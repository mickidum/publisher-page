(function(e){function t(t){for(var n,r,o=t[0],c=t[1],d=t[2],u=0,p=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&p.push(s[r][0]),s[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(p.length)p.shift()();return i.push.apply(i,d||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,o=1;o<a.length;o++){var c=a[o];0!==s[c]&&(n=!1)}n&&(i.splice(t--,1),e=r(r.s=a[0]))}return e}var n={},s={app:0},i=[];function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=n,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/wp-content/plugins/mic-wp-pageface/admin/adminjs/micapp/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var d=0;d<o.length;d++)t(o[d]);var l=c;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"publisher-page-main"},[a("div",{staticClass:"packages"},[a("span",{staticClass:"badge"},[e._v("packages")]),a("draggable",e._b({staticClass:"packages-items-wrap",attrs:{draggable:".package",sort:!1,list:e.packagesList,group:{name:"item",pull:"clone",put:!1}},on:{start:function(t){e.drag=!0},end:function(t){e.drag=!1}}},"draggable",e.dragOptions,!1),[a("transition-group",{staticClass:"packages-items",attrs:{type:"transition",name:e.drag?null:"flip-list"}},e._l(e.packagesList,(function(e,t){return a("package-header",{key:t,attrs:{item:e}})})),1)],1)],1),a("div",{staticClass:"publisher-page-wrapper"},[a("div",{staticClass:"publisher-page-workspace"},[a("span",{staticClass:"badge"},[e._v("workspace")]),a("div",{staticClass:"workspace"},[a("draggable",e._b({staticClass:"workspace-items",attrs:{draggable:".work-item",group:"item"},on:{start:function(t){e.drag=!0},end:function(t){e.drag=!1}},model:{value:e.workspaceList,callback:function(t){e.workspaceList=t},expression:"workspaceList"}},"draggable",e.dragOptions,!1),[a("transition-group",{staticClass:"workspace-items",attrs:{type:"transition",name:e.drag?null:"flip-list"}},e._l(e.workspaceList,(function(t,n){return a("work-item",{key:n,attrs:{item:t},model:{value:e.workspaceList,callback:function(t){e.workspaceList=t},expression:"workspaceList"}})})),1)],1)],1)]),a("div",{staticClass:"publisher-page-console"},[a("span",{staticClass:"badge"},[e._v("console")]),a("draggable",{staticClass:"console-items",attrs:{draggable:".post-item",group:"item"},on:{change:e.log},model:{value:e.consoleList,callback:function(t){e.consoleList=t},expression:"consoleList"}},e._l(e.consoleList,(function(t,n){return t.kind?e._e():a("post",{key:t.id,attrs:{post:t}})})),1)],1)])])},i=[],r=(a("d3b7"),a("25f0"),a("310e")),o=a.n(r),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["post-item","post-item-"+e.post.id]},[a("div",{staticClass:"console-item-inner"},[e.post.featured_media&&e.getMedia(e.post)?a("div",{staticClass:"media"},[a("img",{attrs:{src:e.getMedia(e.post),alt:e.post.title.rendered}})]):a("div",{staticClass:"media no-image"},[a("span",[e._v("No image")])]),a("div",{staticClass:"headline",domProps:{innerHTML:e._s(e.post.title.rendered)}})])])},d=[],l={name:"Post",props:["post"],data:function(){return{}},computed:{},methods:{getMedia:function(e){if(e._embedded&&e._embedded["wp:featuredmedia"]&&e._embedded["wp:featuredmedia"][0]&&e._embedded["wp:featuredmedia"][0].media_details){var t=e._embedded["wp:featuredmedia"][0].media_details.sizes.thumbnail.source_url;return t}return null}}},u=l,p=a("2877"),m=Object(p["a"])(u,c,d,!1,null,null,null),f=m.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["package","package-"+e.item.type]},[a("div",{staticClass:"package-item-inner"},[e._v(" "+e._s(e.item.name)+" ")])])},b=[],k={name:"package",props:["item"],data:function(){return{}},computed:{},methods:{}},v=k,h=Object(p["a"])(v,g,b,!1,null,null,null),w=h.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"work-item"},[e.item.kind?e._e():a("workspace-item",{attrs:{post:e.item}}),e.item.kind?a("package",{attrs:{item:e.item}}):e._e()],1)},y=[],C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["post-item workspace-item","post-item-"+e.post.id]},[a("div",{staticClass:"console-item-inner"},[e.post.featured_media&&e.getMedia(e.post)?a("div",{staticClass:"media"},[a("img",{attrs:{src:e.getMedia(e.post),alt:e.post.title.rendered}})]):a("div",{staticClass:"media no-image"},[a("span",[e._v("No image")])]),a("div",{staticClass:"headline",domProps:{innerHTML:e._s(e.post.title.rendered)}})])])},O=[],j={name:"WorkspaceItem",props:["post"],data:function(){return{}},computed:{},methods:{getMedia:function(e){if(e._embedded&&e._embedded["wp:featuredmedia"]&&e._embedded["wp:featuredmedia"][0]&&e._embedded["wp:featuredmedia"][0].media_details){var t=e._embedded["wp:featuredmedia"][0].media_details.sizes.large.source_url;return t}return null}}},P=j,L=Object(p["a"])(P,C,O,!1,null,null,null),x=L.exports,$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("draggable",{class:["package","package-"+e.item.type,e.item.items.length?"filled":""],attrs:{tag:"div",list:e.item.items,value:e.value,handle:".handle",group:"item"},on:{input:e.emitter}},[a("div",{staticClass:"package-item-inner"},[e._v(" "+e._s(e.item.name)+" "),e._l(e.item.items,(function(t){return t.kind?e._e():[a("workspace-item",{key:t.id,attrs:{post:t}})]}))],2)])},M=[],S={name:"package",props:{header:{required:!1,type:Boolean,default:!1},value:{required:!1,type:Array,default:null},item:{required:!1,type:Object,default:null}},components:{draggable:o.a,WorkspaceItem:x},computed:{dragOptions:function(){return{animation:0,group:"item",disabled:!1,ghostClass:"ghost"}},realValue:function(){return this.value?this.value:this.list}},methods:{emitter:function(e){this.$emit("input",e)}}},E=S,W=Object(p["a"])(E,$,M,!1,null,null,null),R=W.exports,I={name:"work-item",props:["item"],components:{WorkspaceItem:x,Package:R},data:function(){return{}},computed:{},methods:{getMedia:function(e){if(e._embedded&&e._embedded["wp:featuredmedia"]&&e._embedded["wp:featuredmedia"][0]&&e._embedded["wp:featuredmedia"][0].media_details){var t=e._embedded["wp:featuredmedia"][0].media_details.sizes.thumbnail.source_url;return t}return null}}},T=I,q=Object(p["a"])(T,_,y,!1,null,null,null),H=q.exports,U={name:"App",components:{WorkItem:H,Post:f,draggable:o.a,PackageHeader:w},data:function(){return{drag:!1}},computed:{dragOptions:function(){return{animation:200,group:"item",disabled:!1,ghostClass:"ghost"}},packagesList:{get:function(){return this.$store.state.packages},set:function(e){this.$store.commit("updateWorkspace",e)}},consoleList:{get:function(){return this.$store.state.console},set:function(e){this.$store.commit("updateConsole",e)}},workspaceList:{get:function(){return this.$store.state.workspace},set:function(e){this.$store.commit("updateWorkspace",e)}},isLoading:function(){return this.$store.state.loading}},mounted:function(){this.$store.dispatch("getPostsEmbed")},methods:{log:function(e){window.console.log(e)},uniqID:function(){return"_"+Math.random().toString(36).substr(2,9)},onAdd:function(e){console.log(e)}}},z=U,A=(a("5c0b"),Object(p["a"])(z,s,i,!1,null,null,null)),J=A.exports,N=(a("99af"),a("4de4"),a("96cf"),a("1da1")),B=a("2909"),D=a("2f62"),V=window.publisherPageStore?window.publisherPageStore.restUrl:"",F={devUrl:"http://news.dev.com/wp-json",prodUrl:V},G=a("fa6e"),K=a.n(G),Q=F.prodUrl,X=new K.a({endpoint:Q});n["a"].use(D["a"]);var Y=new D["a"].Store({state:{console:[],workspace:[],packages:[{name:"Hero",kind:"package",type:"special-one",items:[]},{kind:"package",name:"2 Cards",type:"two-cards",items:[]},{kind:"package",name:"3 Cards",type:"three-cards",items:[]},{kind:"package",name:"4 Cards",type:"four-cards",items:[]},{kind:"package",name:"5 Cards",type:"five-cards",items:[]}],loading:!1},mutations:{fillPosts:function(e,t){e.console=t},updateList:function(e,t){e.workspace=[].concat(Object(B["a"])(e.workspace),[t]),e.console=e.console.filter((function(e){return t.id!==e.id}))},updateConsole:function(e,t){var a=t.filter((function(e){return e&&!e.kind}));e.console=a},updateWorkspace:function(e,t){e.workspace=t},loading:function(e,t){t=t||!0,e.loading=t}},actions:{getPosts:function(e){return Object(N["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.commit,X.posts().then((function(e){a("fillPosts",e)}));case 2:case"end":return t.stop()}}),t)})))()},getPostsEmbed:function(e){return Object(N["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.commit,a("loading",!0),X.posts().embed().then((function(e){a("fillPosts",e),a("loading",!1)}));case 3:case"end":return t.stop()}}),t)})))()},getWorkspace:function(e){return Object(N["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.commit,a("loading",!0),a("loading",!1);case 3:case"end":return t.stop()}}),t)})))()}},modules:{}});a("a89b");n["a"].config.productionTip=!1,new n["a"]({store:Y,render:function(e){return e(J)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";var n=a("9c0c"),s=a.n(n);s.a},"9c0c":function(e,t,a){},a89b:function(e,t,a){}});
//# sourceMappingURL=app.js.map